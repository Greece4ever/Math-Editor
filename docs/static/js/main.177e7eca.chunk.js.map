{"version":3,"sources":["components/parsing.js","App.js","components/hooks.js","reportWebVitals.js","index.js"],"names":["splitAtRange","str","x","y","substring","length","insert_at","insrt","pos","slice","nums","mathRightPar","start_index","i","j","states","push","pop","matchLeftPar","num","index","char","inc","comp","includes","handle_num","hpar","trim","replace_frac","right","left","numerator","denominator","to_latex","convertFraction","cstr","indexOf","useStyles","makeStyles","theme","root","background","border","boxShadow","color","height","padding","paper","spacing","textAlign","palette","text","secondary","m","times","string","fnd","pttr","tag","closing","replace","replace_after","rpl","after","removeAtRange","line_replace","pttr0","pttrn1","findInside","match","Latex","replaceMath","sub_str","ptrn","ind","forEach","symbol","replaceAll","e","html","katex","renderToString","throwOnError","replaceMathCenter","App","useState","textValue","setTextValue","value","setValue","value2","setValue2","repl","line_repl","arr","reverse","hdrs","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","localStorage","setItem","hidden","setHidden","val","getItem","onPrintEnd","event","window","addEventListener","removeEventListener","print","className","style","display","width","backgroundColor","justifyContent","alignItems","position","borderRadius","fontFamily","Fab","onClick","html2canvas","document","getElementById","parentElement","then","canvas","link","createElement","setAttribute","Math","random","toString","split","toDataURL","click","marginRight","marginBottom","bottom","variant","aria-label","marginLeft","fontWeight","AppBar","Tabs","TabIndicatorProps","onChange","console","log","Grid","container","item","xs","fontSize","resize","float","currentTarget","onKeyDown","target","key","toLocaleLowerCase","preventDefault","selectionStart","marginTop","minHeight","margin","overflowWrap","dangerouslySetInnerHTML","__html","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.177e7eca.chunk.js","sourcesContent":["export function splitAtRange(str, x, y) {\n  return str.substring(0, x) + str.substring(y, str.length);\n}\n\nexport function insert_at(str, insrt, pos) {\n  return str.slice(0, pos) + insrt + str.slice(pos, str.length);\n}\n\nlet nums = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\n\n/* Return starting and ending index of outter-most parentheses */\n\n// Heading to the right ---->\nfunction mathRightPar(str, start_index) {\n  let i = start_index; // of parentheses \n    let j = 0;\n  let states = [];\n    for (j=i; j < str.length; j++) {\n        if (str[j] === \"(\") {\n            states.push(1)\n      // Parenteses Found at j creating [ states.length, j];\n    }\n        else if (str[j] == \")\") {\n            // Parenteses poped at j matching [states.length];\n            states.pop();\n            if (!states.length)\n                break;\n        }\n    }\n    return [i, j + 1];\n}\n\n// Heading to the left <----\nfunction matchLeftPar(str, start_index) {\n  let i = start_index; // of parentheses \n  let j = 0;\n  let states = [];\n    for (j=i; j > 0; j--) {\n        if (str[j] === \")\") {\n            states.push(1)\n      // Parenteses Found at j creating [ states.length, j];\n    }\n        else if (str[j] == \"(\") {\n            // Parenteses poped at j matching [states.length];\n            states.pop();\n            if (!states.length)\n                break;\n        }\n    }\n    return [j, i + 1];\n}\n\n// find repeating number character in string at index\nfunction num(str, index, inc=1, comp) {\n  let char;\n\tlet i;\n  for (i=index; comp(i); i += inc) \n  {\n    char = str[i];\n    if (!nums.includes(char)) \n      break;\n  }\n  \n  if (inc === -1) // Reverse if backwards\n\t\treturn [i + 1, index + 1];  \n  return [index, i];\n}\n\n/* \n\t Find the number | prentheses (heading to left or right when inc=-1 or inc=1) \n\t after div (/) symbol and return starting and ending index \n   as an array of [start, end]\n*/\nfunction handle_num(str, index, inc=1) {\n  let comp, j;\n  if (inc === 1) // Forward\n    comp = x => x < str.length;\n  else\n    comp = x => x >= 0; // TODO x > 0 should be x >= (BEGGINING OF \"(\" BRACKETS)\n\n  for (j=(index + inc); comp(j); j += inc)  { // Keep searching until whitespace is cleared\n    if (str[j] !== \" \") {\n      // Parentheses\n      if (str[j] === \"(\") { \n          if (inc === 1) // \"(\" can only be found when searching <---\n        \t\treturn mathRightPar(str, j);            \n      }\n      else if (str[j] == \")\") {\n        if (inc === -1) { // \")\" can only be found when searching <---\n          return matchLeftPar(str, j);            \n        }\n      }\n\t\t\t\n      // Single character | number\n      if (!nums.includes(str[j]))         \n        return [j, j +1]\n      else\n        return num(str, j, inc, comp);\n    }\n  }\n}\n\n// Get rid of outter parentheses\nfunction hpar(str) {\n\tif (str[0] == \"(\") {\n\t\treturn str.trim().substring(1, str.length - 1);\n  }\n  return str.trim();\n}\n\n// Convert only one\nfunction replace_frac(str, index) {\n  let right = handle_num(str, index, 1);\n  let left  = handle_num(str, index, -1);\n  \n  \tlet numerator \t= hpar (str.substring(left[0], left[1]))\n  \tlet denominator = hpar (str.substring(right[0], right[1]));\n  let to_latex = `\\\\frac{${numerator}}{${denominator}}`;\n     \n  let split_str = splitAtRange(str, left[0], right[1]); // Rest of the string\n  return insert_at(split_str, to_latex, left[0])\n}\n\n\n// Convert all fractions (ie 1/5) to latex (\\frac{1}{5})\nexport default function convertFraction(str) {\n\tlet cstr = str;\n\tlet index = cstr.indexOf(\"/\");\n  while (index != -1) {\n\t\tcstr = replace_frac(cstr, index);\n    index = cstr.indexOf(\"/\");\n  }\n  return cstr;\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport katex from \"katex\";\nimport convertFraction, { insert_at, splitAtRange } from \"./components/parsing\";\nimport html2canvas from 'html2canvas';\n\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport FunctionsIcon from '@material-ui/icons/Functions';\n\nimport \"./App.css\";\n\nimport useInterval from \"./components/hooks\";\n\nimport Fab from '@material-ui/core/Fab';\n\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\nimport Grid from '@material-ui/core/Grid';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\n\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    background: '#3b3939',\n    border: 0,\n    \n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    color: 'white',\n    height: 48,\n    padding: '0 30px',\n  },\n\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n\n}));\n\n\n\nfunction m(str, times) {\n  let string = \"\";\n  for (let i=0; i < times; i++) {\n    string += str;\n  }\n  return string;\n}\n\nfunction hdrs() {\n  let arr = [];\n  for (let i=1; i <= 4; i++) {\n    arr.push([m(\"#\", i), `h${i}`]);\n  }\n  arr.reverse();\n  return arr;\n}\n\n\nfunction fnd(str, pttr, tag) {\n  let closing = false;\n  while (str.indexOf(pttr) != -1) {\n    str = str.replace(pttr, `<${closing ? \"/\" : \"\"}${tag}>`);\n    closing = !closing;\n  }\n  return str;\n}\n\nfunction replace_after(str, pttr, rpl, after) {\n  return str.slice(0, after) + str.slice(after).replace(pttr, rpl)\n}\n\nfunction removeAtRange(str, x, y) {\n  return str.substring(x, y);\n}\n\n\nfunction line_replace(str, pttr0, pttrn1, rpl) {\n  let i = str.indexOf(pttr0);\n  while (i != -1) {\n    str = str.replace(pttr0, `<${rpl}>`);\n    str =  replace_after(str, pttrn1, `</${rpl}>\\n`, i);\n    i = str.indexOf(pttr0);\n  }\n  return str;\n}\n\nfunction findInside(str, match) {\n  let i = str.indexOf(match); str = str.replace(match, ' ');\n  let j = str.indexOf(match); str = str.replace(match, ' ');\n  return [i, j == -1 ? str.length : j, str];\n}\n\nlet Latex = [\n  ['>=', \"\\\\ge\"],\n  [\"<=>\", \" \\\\iff \"],\n  ['<=', \"\\\\le\"],\n  ['=>', \"\\\\implies\"],\n  [\"+-\", \"\\\\pm\"],\n  [\"sqrt\", \"\\\\sqrt\"],\n  [\"!=\", \"\\\\neq\"],\n  [/([A-Za-z]|[^\\x00-\\x7F])(\\d)/g, \"$1_$2\"],\n  [\"<-\", \"\\\\leftarrow\"],\n  [\"->\", \"\\\\rightarrow\"],\n\n\n  // [/x(\\d)/g, \"x_$1\"]\n]\n\nfunction replaceMath(str, ptrn=\"$$\") {\n  let ind = findInside(str, ptrn); // Find where it starts and ends \n  let sub_str;\n  while (ind[0] != -1) {\n    str= ind[2]; // End\n    sub_str = removeAtRange(str, ind[0], ind[1]); // math string\n    str = splitAtRange(str, ind[0], ind[1]); // rest of the string\n    Latex.forEach(symbol => {\n      sub_str = sub_str.replaceAll(symbol[0], symbol[1])\n    });\n    \n    try {\n      sub_str = convertFraction(sub_str);\n    } catch(e) {};\n\n    let html = katex.renderToString(sub_str, {throwOnError: false});\n\n    // html = `<div class=\"center\">${html}</div>`\n\n    str = insert_at(str, html, ind[0]);\n    ind = findInside(str, ptrn);\n  }\n  return str;\n}\n\n\nfunction replaceMathCenter(str, ptrn=\"$$\") {\n  let ind = findInside(str, ptrn); // Find where it starts and ends \n  let sub_str;\n  while (ind[0] != -1) {\n    str= ind[2]; // End\n    sub_str = removeAtRange(str, ind[0], ind[1]); // math string\n    str = splitAtRange(str, ind[0], ind[1]); // rest of the string\n    Latex.forEach(symbol => {\n      sub_str = sub_str.replaceAll(symbol[0], symbol[1])\n    });\n    \n    try {\n      sub_str = convertFraction(sub_str);\n    } catch(e) {};\n\n    let html = katex.renderToString(sub_str, {throwOnError: false});\n\n    html = `<div class=\"center\">${html}</div>`\n\n    str = insert_at(str, html, ind[0]);\n    ind = findInside(str, ptrn);\n  }\n  return str;\n}\n\n\n\n\nfunction App() {\n  const [textValue, setTextValue] = useState(\"\");\n  const [value, setValue]   = useState(\"\");  \n  const [value2, setValue2] = useState(\"\");\n  const repl = [\n    [\"**\", \"b\", \"Bold\"],\n    [\"*_\", \"i\", \"Italic\"],\n    [\"\\n\\n\", \"p\", \"\"],\n    [\"```\", \"pre\", \"Code\"]\n  ]\n\n\n  const line_repl = [\n    ...hdrs(),\n    ['-', \"ul\"]\n\n  ]\n\n  useInterval(() => {\n    localStorage.setItem(\"html\", textValue)\n  }, 15 * 1000);\n  \n  const [buffer, setBuffer] = useState(\"\");\n\n  const classes = useStyles();\n\n  const [hidden, setHidden] = useState(false);\n\n  const [animation, setAnimation] = useState(\"spin 8s linear infinite\");\n\n  // Load previous text from memory\n  useEffect(() => {\n    let val = localStorage.getItem(\"html\");\n    setTextValue(val);\n\n    line_repl.forEach(i => {\n      val = line_replace(val, \"\\n\" +i[0], \"\\n\", i[1])\n    })\n\n    repl.forEach(i => {\n      val = fnd(val, i[0], i[1]);\n    })\n\n    val = replaceMathCenter(val, \"$$\");\n    val = replaceMath(val, \"@@\");\n\n    setValue(val);\n\n  }, [])\n\n\n  // Print End Listener\n  useEffect(() => {\n    const onPrintEnd = (event) => {\n      setHidden(false);\n    }\n      \n    window.addEventListener(\"afterprint\", onPrintEnd);\n    \n    return () => {\n      window.removeEventListener('afterprint', onPrintEnd);\n    }\n  }, []);\n\n\n  // Print when hit PRINT .PDF\n  useEffect(() => {\n    if (hidden) {\n      window.print();\n    }\n  }, [hidden])\n\n  const [val, setVal] = useState(0);\n\n\n\n  return (\n    <div className=\"App\">\n      <div style={{display: hidden ? \"none\" : \"\"}}>\n\n      <div style={{\n        width: \"100%\",\n        height: \"200px\",\n        backgroundColor: \"#393838\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"relative\"\n      \n      }}>\n\n        <div>\n          <div style={{\n            width : \"98px\",\n            height: \"98px\",\n            backgroundColor: \"white\",\n            borderRadius: \"500px\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n    \n          }}>\n\n          <FunctionsIcon style={{\n            width:  \"64px\",\n            height: \"64px\",\n            color: \"rgb(57, 56, 56)\"\n          }}/>  \n            \n          </div>          \n        </div>\n\n        <h2 style={{\"marginLeft\" : \"30px\", color: \"aliceblue\", fontFamily: \"math2\", }}>\n          Math Editor\n        </h2>\n\n\n        <Fab \n        onClick={() => {\n          html2canvas(document.getElementById(\"peos\").parentElement ).then(canvas => {\n            var link = document.createElement(\"a\");\n            link.setAttribute('download', `math${Math.random().toString().split(\".\")[1]}.png`);\n            link.setAttribute('href', canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\"));\n            link.click();          \n          })\n        }} \n        \n        style={{position: \"absolute\", marginRight: \"10px\", marginBottom: \"10px\", right: 0, bottom: 0}} variant=\"extended\" color=\"inherit\" aria-label=\"add\">\n          <SaveAltIcon style={{\"animation\" : \"none\"}} />\n          <span style={{marginLeft: \"10px\", fontWeight: \"700\", fontFamily: \"math\"}}>\n            SAVE .PNG\n          </span>\n        </Fab>\n\n\n\n        <Fab \n        onClick={() => {\n          setHidden(true);\n          setValue2(value);\n          localStorage.setItem(\"html\", textValue);\n           \n        \n        }} \n        \n        style={{position: \"absolute\", marginLeft: \"10px\", marginBottom: \"10px\", left: 0, bottom: 0}} variant=\"extended\" color=\"inherit\" aria-label=\"add\">\n          <PictureAsPdfIcon style={{\"animation\" : \"none\"}} />\n          <span style={{marginLeft: \"10px\", fontWeight: \"700\", fontFamily: \"math\"}}>\n            PRINT .PDF\n          </span>\n        </Fab>\n\n\n\n      </div>\n\n\n\n    <AppBar position=\"static\">\n      <Tabs TabIndicatorProps={{style: {background:'white'}}} value={val} onChange={(e) => console.log(e)} aria-label=\"simple tabs example\">\n        {/* <Tab onClick={() => setVal(0)} label=\"Untitled\"  /> */}\n        {/* <Tab onClick={() => setVal(1)} label=\"Untitled2\"  /> */}\n\n        {/* <Button variant=\"primary\">\n          <AddIcon style={{width: \"16px\", height: \"16px\", color: \"white\"}} />\n        </Button> */}\n      </Tabs>\n    </AppBar>\n\n\n      <Grid container spacing={3}>\n        <Grid item xs={6}>\n        <textarea\n        value={textValue}\n      style={{\n        \"width\" : \"100%\",\n        height : \"500px\",\n        fontSize: \"13px\",\n        resize: \"vertical\",\n        float: \"left\",\n        // border: \"1px solid rgb(57, 56, 56)\",\n        // fontSize: \"20px\"\n        \n      }}\n      \n      onChange={(e) => {\n        \n        let val = e.currentTarget.value;\n        setTextValue(val);\n\n        // ([A-Za-z]|[^\\x00-\\x7F])(\\d)\n        line_repl.forEach(i => {\n          val = line_replace(val, \"\\n\" +i[0], \"\\n\", i[1])\n        })\n\n        repl.forEach(i => {\n          val = fnd(val, i[0], i[1]);\n        })\n\n        val = replaceMathCenter(val, \"$$\");\n        val = replaceMath(val, \"@@\");\n\n        setValue(val);\n        \n      }}\n\n      onKeyDown={(e) => {\n          let target = e.currentTarget;\n          let value = target.value;\n          switch (e.key.toLocaleLowerCase()) {\n            case \"tab\":\n              e.preventDefault();\n              target.value = insert_at(target.value, \"    \", target.selectionStart)\n              console.log(target.value);\n              break;\n            case \"shift\":\n              break;\n          }\n\n      }}></textarea>\n\n        </Grid>\n        <Grid item xs={6}>\n          <div id=\"peos\" style={{\n            width: \"100%\",\n            background: \"white\",\n            float: \"right\",\n            marginTop: \" 10px\",\n            fontFamily: \"math\",\n            minHeight: \"800px\",\n            margin: \"10px\",\n            overflowWrap: \"break-word\",\n    \n\n            \n          }}\n          dangerouslySetInnerHTML={{__html: value}}\n          ></div>\n        </Grid>\n      </Grid>\n\n      \n      </div>\n\n\n      <div id=\"NOTICEME\" style={{display: hidden ? \"block\" : \"none\", fontFamily: \"math\", margin: \"10px\"}}\n      \n      \n      \n      dangerouslySetInnerHTML={{__html: value2}}\n      >\n        \n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useEffect, useState, useRef } from \"react\";\r\n\r\nexport default function useInterval(callback, delay) {\r\n    const savedCallback = useRef();\r\n  \r\n    // Remember the latest callback.\r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n  \r\n    // Set up the interval.\r\n    useEffect(() => {\r\n      let id = setInterval(() => {\r\n        savedCallback.current();\r\n      }, delay);\r\n      return () => clearInterval(id);\r\n    }, [delay]);\r\n}\r\n  ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}